---
import Layout from '../layouts/Layout.astro';
import { Image } from 'astro:assets';
import arcLandImg from '../assets/images/arc_land.webp';
import arqUrb2Img from '../assets/images/arq_urb_2.webp';
import laboratorioImg from '../assets/images/laboratorio.webp';
import { useTranslations } from '../i18n/utils';

interface Props {
  lang: 'es' | 'en' | 'ca';
}

const { lang } = Astro.props;
const t = useTranslations(lang);
---

<Layout
	title={`PedraTallada | ${t('archaeology.title')}`}
	description={t('archaeology.intro')}
>
	<!-- Hero Section -->
	<section class="relative h-[60vh] flex items-center justify-center overflow-hidden">
		<Image 
			src={arcLandImg} 
			alt="Paisaje de Excavación Arqueológica" 
			class="absolute inset-0 w-full h-full object-cover z-0 filter brightness-75 object-center"
			quality={80}
			format="webp"
            loading="eager"
		/>
		<div class="absolute inset-0 bg-stone-900/40 z-10 flex flex-col items-center justify-center text-center px-4">
			<h1 class="text-4xl md:text-6xl font-serif text-stone-50 mb-4 shadow-black drop-shadow-md">
				{t('archaeology.title')}
			</h1>
			<p class="text-lg md:text-xl text-stone-100 max-w-2xl mx-auto font-medium">
				{t('archaeology.subtitle')}
			</p>
		</div>
	</section>

    <!-- Content -->
    <div class="container mx-auto px-4 py-16 md:py-24">
        
        <div class="max-w-3xl mx-auto text-center mb-16">
            <p class="text-stone-600 text-lg leading-relaxed">
                {t('archaeology.intro')}
            </p>
            <div class="h-1 w-20 bg-clay mx-auto rounded-full mt-8"></div>
        </div>

        <div class="grid md:grid-cols-2 gap-8 mb-16">
            <!-- Service 1: Excavaciones -->
            <div class="bg-white rounded-xl border border-stone-100 shadow-sm hover:shadow-xl transition-all duration-300 overflow-hidden flex flex-col group">
                <div class="relative w-full aspect-video overflow-hidden bg-stone-100 border-b border-stone-100">
                    <Image src={arqUrb2Img} alt={t('archaeology.s1.title')} class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-700" format="webp" />
                </div>
                <div class="p-8 flex-1">
                    <h3 class="text-xl font-serif font-bold text-stone-900 mb-3 group-hover:text-clay-dark transition-colors">{t('archaeology.s1.title')}</h3>
                    <p class="text-stone-600 text-sm leading-relaxed">{t('archaeology.s1.desc')}</p>
                </div>
            </div>

            <!-- Service 3 -> 2: Informes Técnicos -->
            <div class="bg-white rounded-xl border border-stone-100 shadow-sm hover:shadow-xl transition-all duration-300 overflow-hidden flex flex-col group">
                 <div class="relative w-full aspect-video overflow-hidden bg-stone-100 border-b border-stone-100">
                    <Image src={laboratorioImg} alt={t('archaeology.s3.title')} class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-700" format="webp" />
                </div>
                <div class="p-8 flex-1">
                    <h3 class="text-xl font-serif font-bold text-stone-900 mb-3 group-hover:text-clay-dark transition-colors">{t('archaeology.s3.title')}</h3>
                    <p class="text-stone-600 text-sm leading-relaxed">{t('archaeology.s3.desc')}</p>
                </div>
            </div>
        </div>

        <!-- CTA -->
        <div class="text-center">
            <a href={`/${lang === 'es' ? '' : lang + '/'}contacto`.replace('//', '/')} class="inline-block bg-stone-900 text-white px-8 py-4 rounded-full font-bold hover:bg-stone-800 transition-colors shadow-lg shadow-stone-900/20">
                {t('hero.cta_contact')}
            </a>
        </div>
    </div>
</Layout>
